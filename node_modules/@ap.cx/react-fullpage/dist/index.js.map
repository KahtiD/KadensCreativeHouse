{"version":3,"file":"index.js","sources":["../src/FullpageContext.js","../src/Fullpage.jsx","../src/FullPageSections.jsx","../src/FullpageSection.jsx","../src/FullpageNavigation.jsx","../src/FullpageNumber.jsx","../src/FullpageCount.jsx"],"sourcesContent":["import React from 'react';\n\nconst FullpageContext = React.createContext({\n  number: 0,\n  count: 0,\n  subscribe: null,\n  unsubscribe: null,\n  goto: null,\n  back: null,\n  next: null,\n});\n\nexport default FullpageContext;\n","/**\n * @class Fullpage\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FullpageContext from './FullpageContext';\n\nclass Fullpage extends PureComponent {\n  static contextType = FullpageContext;\n\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    transitionTiming: PropTypes.number,\n    style: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n    className: PropTypes.string,\n    onChange: PropTypes.func,\n    keyboardShortcut: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    transitionTiming: 700,\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n    },\n    className: '',\n    onChange: null,\n    keyboardShortcut: true,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.slides = [];\n    this.state = {\n      slide: null,\n      translateY: 0,\n      pageYOffset: 0,\n      offsetHeight: 0,\n      count: 0,\n      number: 0,\n      resetScroll: false,\n    };\n    this.ticking = false;\n    this.fullPageHeight = 0;\n    this.viewportHeight = 0;\n    // binds\n    this.subscribe = this.subscribe.bind(this);\n    this.unsubscribe = this.unsubscribe.bind(this);\n    this.update = this.update.bind(this);\n    this.getIndex = this.getIndex.bind(this);\n    // handle\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n    this.handleKeys = this.handleKeys.bind(this);\n    // refs\n    this.driverRef = React.createRef();\n    this.warperRef = React.createRef();\n    this.fullpageRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.handleResize();\n    this.setState({\n      slide: this.slides[0],\n    });\n    if (typeof window !== 'undefined') {\n      window.addEventListener('scroll', this.handleScroll);\n      window.addEventListener('resize', this.handleResize);\n    }\n    if (typeof document !== 'undefined') {\n      document.addEventListener('keydown', this.handleKeys);\n    }\n  }\n\n  componentWillUnmount() {\n    // set body height == to 'auto'\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('scroll', this.handleScroll);\n      window.removeEventListener('resize', this.handleResize);\n    }\n    if (typeof document !== 'undefined') {\n      document.removeEventListener('keydown', this.handleKeys);\n    }\n  }\n\n  getIndex(slide) {\n    return this.slides.indexOf(slide);\n  }\n\n  subscribe(slide) {\n    // add new slide (push)\n    const newSlides = [...this.slides, slide];\n    // sort slide for top to bottom\n    this.slides = newSlides.sort((a, b) => {\n      const aTop = a.el.current.offsetTop;\n      const bTop = b.el.current.offsetTop;\n      return aTop - bTop;\n    });\n    this.setState({\n      count: this.slides.length,\n    });\n    this.ticking = false;\n    this.handleResize();\n    return slide;\n  }\n\n  unsubscribe(slide) {\n    this.slides = this.slides.filter(s => s.el !== slide.el);\n    this.setState({\n      count: this.slides.length,\n    });\n    this.handleResize();\n    this.handleScroll();\n    return slide;\n  }\n\n  handleScroll() {\n    const {\n      resetScroll,\n      translateY,\n    } = this.state;\n\n\n    if (this.lockScroll) {\n      // if > top and bottom < fix scroll\n      window.scrollTo(0, translateY * -1);\n      return false;\n    }\n\n    if (!this.ticking) {\n      window.requestAnimationFrame(() => {\n        if (resetScroll) {\n          window.scrollTo(0, translateY * -1);\n        }\n\n        const pageYOffset = window.pageYOffset || 0;\n        this.setState({\n          pageYOffset,\n          resetScroll: false,\n        });\n\n        const newSlide = this.slides.find((slide) => {\n          const el = slide.el.current;\n          return pageYOffset < el.offsetTop + (el.offsetHeight * 0.5);\n        });\n        this.goto(newSlide);\n        this.ticking = false;\n      });\n    }\n    this.ticking = true;\n    return true;\n  }\n\n  handleResize() {\n    if (!this.ticking) {\n      window.requestAnimationFrame(() => {\n        // update count\n        this.viewportHeight = Math.max(\n          document.documentElement.clientHeight,\n          window.innerHeight || 0,\n        );\n        this.fullPageHeight = this.fullpageRef.current.clientHeight;\n        this.driverRef.current.style.height = `${this.fullPageHeight}px`;\n        this.ticking = false;\n      });\n    }\n    this.ticking = true;\n  }\n\n  handleKeys(event) {\n    const {\n      keyboardShortcut,\n    } = this.props;\n    if (!keyboardShortcut) {\n      return true;\n    }\n\n    if (\n      event.keyCode === 33 // pageUp:    33,\n      || event.keyCode === 37 // left:      37,\n      || event.keyCode === 38 // up:        38,\n    ) {\n      event.preventDefault();\n      return (event.shiftKey) ? this.first(event) : this.back(event);\n    }\n    if (\n      event.keyCode === 34 // pageDown:  34,\n      || event.keyCode === 39 // right:     39,\n      || event.keyCode === 40 // down:      40,\n    ) {\n      event.preventDefault();\n      return (event.shiftKey) ? this.last(event) : this.next(event);\n    }\n    if (\n      event.keyCode === 35 // end:       35,\n    ) {\n      event.preventDefault();\n      return this.last(event);\n    }\n    if (\n      event.keyCode === 36 // home:      36,\n    ) {\n      event.preventDefault();\n      return this.first(event);\n    }\n\n    return true;\n  }\n\n  // TODO: add update methode\n  update() {\n    return this;\n  }\n\n  goto(newSlide, resetScroll = false) {\n    const {\n      slide,\n    } = this.state;\n    const {\n      transitionTiming,\n      onChange,\n    } = this.props;\n\n    if (slide !== newSlide) {\n      const translateY = Math.max(\n        (this.fullPageHeight - this.viewportHeight) * -1,\n        newSlide.el.current.offsetTop * -1,\n      );\n\n      const {\n        onHide,\n      } = slide.props;\n      if (onHide && typeof onHide === 'function') {\n        setTimeout(() => onHide(translateY), transitionTiming);\n      }\n\n      this.lockScroll = true;\n\n      this.setState({\n        slide: newSlide,\n        number: this.getIndex(newSlide),\n        translateY,\n        offsetHeight: newSlide.el.current.offsetHeight,\n        resetScroll,\n      });\n\n      setTimeout(() => {\n        this.lockScroll = false;\n      }, 1000);\n\n      const {\n        onShow,\n      } = newSlide.props;\n      if (onShow && typeof onShow === 'function') {\n        onShow(translateY);\n      }\n      // call back function\n      if (typeof onChange === \"function\") {\n        onChange(this.state);\n      }\n    }\n\n    return newSlide;\n  }\n\n  back() {\n    const {\n      number,\n    } = this.state;\n    const index = Math.max(0, number - 1);\n    this.goto(this.slides[index], true);\n  }\n\n  next() {\n    const {\n      length,\n    } = this.slides;\n    const {\n      number,\n    } = this.state;\n    const index = Math.min(length - 1, number + 1);\n    this.goto(this.slides[index], true);\n  }\n\n  first() {\n    this.goto(this.slides[0], true);\n  }\n\n  last() {\n    this.goto(this.slides[this.slides.length - 1], true);\n  }\n\n  render() {\n    const {\n      children,\n      style,\n      className,\n      transitionTiming,\n    } = this.props;\n\n    const {\n      translateY,\n      pageYOffset,\n      offsetHeight,\n      number,\n      count,\n    } = this.state;\n\n    return (\n      <FullpageContext.Provider\n        value={{\n          translateY,\n          pageYOffset,\n          offsetHeight,\n          number,\n          count,\n          subscribe: this.subscribe,\n          unsubscribe: this.unsubscribe,\n          update: this.update,\n          goto: slide => this.goto(slide),\n          back: this.back,\n          next: this.next,\n          getIndex: this.getIndex,\n          transitionTiming,\n          className,\n          style,\n          warperRef: this.warperRef,\n          fullpageRef: this.fullpageRef,\n          slides: this.slides,\n        }}\n      >\n        <div\n          name=\"Driver\"\n          style={{\n            position: 'relative',\n          }}\n          ref={this.driverRef}\n        />\n        {children}\n      </FullpageContext.Provider>\n    );\n  }\n}\n\nexport default Fullpage;\n","/**\n * @class FullPageSections\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FullpageContext from './FullpageContext';\n\nclass FullPageSections extends PureComponent {\n  static contextType = FullpageContext;\n\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string,\n    style: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n  };\n\n  static defaultProps = {\n    className: '',\n    style: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n    },\n  };\n\n  render() {\n    const {\n      children,\n      style,\n      className,\n    } = this.props;\n    return (\n      <FullpageContext.Consumer>\n        {\n          ctx => (\n            <div\n              name=\"Warper\"\n              style={ctx.style} // from\n              ref={this.warperRef}\n            >\n              <div\n                name=\"Inner\"\n                className={className}\n                style={{\n                  transition: `transform ${ctx.transitionTiming}ms cubic-bezier(0.645, 0.045, 0.355, 1.000)`,\n                  ...style,\n                  transform: `translate3D(0, ${(ctx.translateY)}px, 0)`,\n                }}\n                ref={ctx.fullpageRef}\n              >\n                { children }\n              </div>\n            </div>\n          )\n        }\n      </FullpageContext.Consumer>\n    );\n  }\n}\n\nexport default FullPageSections;\n","/**\n * @class FullpageSection\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FullpageContext from './FullpageContext';\n\nconst FullpageSectionContext = React.createContext();\n\nclass FullpageSection extends PureComponent {\n  static contextType = FullpageContext;\n\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    height: PropTypes.string,\n    style: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n    className: PropTypes.string,\n    onShow: PropTypes.func, // eslint-disable-line react/no-unused-prop-types\n    onHide: PropTypes.func, // eslint-disable-line react/no-unused-prop-types\n  };\n\n  static defaultProps = {\n    height: '100vh',\n    style: {},\n    className: '',\n    onShow: null, // eslint-disable-line no-unused-vars\n    onHide: null, // eslint-disable-line no-unused-vars\n  };\n\n  static Number = ({ style = {} }) => (\n    <FullpageSectionContext.Consumer>\n      { ctx => <span style={style}>{`${ctx.index + 1}`}</span> }\n    </FullpageSectionContext.Consumer>\n  );\n\n  constructor(props, context) {\n    super(props, context);\n    this.sectionRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { subscribe } = this.context;\n    this.el = this.sectionRef;\n    subscribe(this);\n  }\n\n  componentWillUnmount() {\n    const { unsubscribe } = this.context;\n    unsubscribe(this);\n  }\n\n  render() {\n    const {\n      children,\n      height,\n      style,\n      className,\n    } = this.props;\n\n    const { getIndex } = this.context;\n    this.index = getIndex(this);\n\n    return (\n      <FullpageSectionContext.Provider value={{\n        index: this.index,\n      }}\n      >\n        <section\n          className={className}\n          style={{\n            height,\n            ...style,\n          }}\n          ref={this.sectionRef}\n        >\n          { children }\n        </section>\n      </FullpageSectionContext.Provider>\n    );\n  }\n}\n\nexport default FullpageSection;\n","/**\n * @class FullpageNavigation\n */\n// eslint-disable-next-line react/react-in-jsx-scope\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FullpageContext from './FullpageContext';\n\n// TODO: do navigation\n// eslint-disable-next-line react/prefer-stateless-function\nclass FullpageNavigation extends PureComponent {\n  static contextType = FullpageContext;\n\n  static propTypes = {\n    style: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n    itemStyle: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n    reverse: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    style: {},\n    itemStyle: {},\n    reverse: false,\n  };\n\n  render() {\n    const { style, itemStyle, reverse = false } = this.props;\n    const {\n      number, slides, transitionTiming,\n    } = this.context;\n\n    const gotoSlide = (slide) => {\n      const { goto } = this.context;\n      goto(slide);\n    };\n\n    return (\n      <div style={{\n        position: 'fixed',\n        height: '100vh',\n        zIndex: 100,\n        top: 0,\n        right: 0,\n        listStyleType: 'none',\n        display: 'flex',\n        flexDirection: 'column',\n        flexWrap: 'nowrap',\n        justifyContent: 'center',\n        paddingRight: '1em',\n        ...style,\n      }}\n      >\n        {\n          slides.map((slide, i) => (\n            <div\n              key={i.toString()}\n              style={{\n                borderRadius: '50%',\n                height: (number === i) ? 14 : 10,\n                width: (number === i) ? 14 : 10,\n                margin: (number === i) ? 3 : 5,\n                backgroundColor: (reverse) ? 'white' : 'black',\n                opacity: (number === i) ? 1 : 0.5,\n                transition: `all ${transitionTiming * 0.5}ms ease-in-out`,\n                ...itemStyle,\n              }}\n              onClick={() => gotoSlide(slide)}\n              aria-label={`Slide ${i}`}\n            >\n              <span style={{\n                display: 'none',\n              }}\n              >\n                {`${i}`}\n              </span>\n            </div>\n          ))\n        }\n      </div>\n    );\n  }\n}\n\nexport default FullpageNavigation;\n","/**\n * @class FullpageNumber\n */\nimport React, { PureComponent } from 'react';\nimport FullpageContext from './FullpageContext';\n\nclass FullpageNumber extends PureComponent {\n  static contextType = FullpageContext;\n\n  render() {\n    // console.log('FullpageNumber render', this.context);\n    return (\n      <FullpageContext.Consumer>\n        {\n          ctx => <span>{`${ctx.number + 1}`}</span>\n        }\n      </FullpageContext.Consumer>\n    );\n  }\n}\n\nexport default FullpageNumber;\n","/**\n * @class FullpageCount\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FullpageContext from './FullpageContext';\n\nclass FullpageCount extends PureComponent {\n  static contextType = FullpageContext;\n\n  static propTypes = {\n    style: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n      PropTypes.bool,\n    ])),\n  };\n\n  static defaultProps = {\n    style: {},\n  };\n\n  render() {\n    const {\n      style,\n    } = this.props;\n    return (\n      <FullpageContext.Consumer>\n        {\n          ctx => <span style={style}>{ctx.count}</span>\n        }\n      </FullpageContext.Consumer>\n    );\n  }\n}\n\nexport default FullpageCount;\n"],"names":["FullpageContext","React","createContext","Fullpage","props","context","slides","state","ticking","fullPageHeight","viewportHeight","subscribe","bind","unsubscribe","update","getIndex","handleScroll","handleResize","handleKeys","driverRef","createRef","warperRef","fullpageRef","setState","window","addEventListener","document","removeEventListener","slide","indexOf","newSlides","sort","a","b","aTop","el","current","offsetTop","bTop","length","filter","s","resetScroll","translateY","lockScroll","scrollTo","requestAnimationFrame","pageYOffset","newSlide","find","offsetHeight","goto","Math","max","documentElement","clientHeight","innerHeight","style","height","event","keyboardShortcut","keyCode","preventDefault","shiftKey","first","back","last","next","transitionTiming","onChange","onHide","onShow","number","index","min","children","className","count","PureComponent","contextType","propTypes","PropTypes","node","isRequired","objectOf","oneOfType","string","bool","func","defaultProps","FullPageSections","ctx","FullpageSectionContext","FullpageSection","sectionRef","Number","FullpageNavigation","itemStyle","reverse","gotoSlide","map","i","toString","FullpageNumber","FullpageCount"],"mappings":"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"}